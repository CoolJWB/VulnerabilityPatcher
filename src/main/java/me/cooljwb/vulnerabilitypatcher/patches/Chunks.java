package me.cooljwb.vulnerabilitypatcher.patches;

import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.entity.EntitySpawnEvent;
import org.bukkit.event.weather.LightningStrikeEvent;

public class Chunks extends Patches implements Listener {

    @EventHandler
    public void onEntitySpawn(EntitySpawnEvent event) {
        if(outOfRange(event.getLocation().getBlockX()) || outOfRange(event.getLocation().getBlockZ()))
            event.setCancelled(true);
    }

    @EventHandler
    public void onLightningStrike(LightningStrikeEvent event) {
        if(outOfRange(event.getLightning().getLocation().getBlockX()) || outOfRange(event.getLightning().getLocation().getBlockZ()))
            event.setCancelled(true);
    }

    public boolean outOfRange(int value) {
        return value > 29999999 || value < -29999999;
    }
}
